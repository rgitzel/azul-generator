---

name: azul-generator
#
#globals:
#  owner: rodney.gitzel@gmail.com
#
#accounts:
#  default:
#    config:
#      app_domain: foo.dropd.com
#      serverless_deployment_bucket_prefix: serverless-deployment-onica-rodney
#    roles: #?
#
#  rgitzel-lab:
#    id: 346457567568
#    config:
#      app_domain: lab.dropd.com
#      serverless_deployment_bucket_prefix: serverless-deployment-onica-rodney
#

deployments:

  - modules:
      - path: hosted_zone.cfn
    regions:
      - us-east-1
    environments:
      '*':
        app_domain: lab.dropd.com

  - modules:
      - path: site.sts
        environments:
          dev:
            namespace: azul-generator-dev
          qa:
            namespace: azul-generator-qa
          prod:
            namespace: azul-generator-prod
    regions:
      - us-east-1
      - us-west-1
      - us-west-2

  - modules:
      - path: generator.sls
        environments:
          dev: true
          qa: true
          prod: true
          '*':
            foo: bar
      - path: dns.tf
    regions:
      - us-east-1
      - us-west-1
      - us-west-2
    environments:
      '*':
        app_domain: lab.dropd.com
        serverless_deployment_bucket_prefix: serverless-deployment-onica-rodney
